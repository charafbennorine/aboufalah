<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>aboufalah</title>
  <style>
    body {
      background-color: #0d0d0d;
      color: #fff;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      margin: 0;
      padding: 10px;
    }

    .container {
      background: #1a1a1a;
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 0 15px #ffc107;
      width: 100%;
      max-width: 360px;
    }

    input, select, button {
      width: 50%;
      padding: 14px;
      margin-top: 12px;
      font-size: 16px;
      border-radius: 10px;
      border: none;
      outline: none;
    }

    input, select {
      background-color: #2c2c2c;
      color: #fff;
    }

    button {
      background-color: #ffc107;
      color: #000;
      cursor: pointer;
      font-weight: bold;
    }

    #langToggle {
      position: fixed;
      top: 15px;
      right: 15px;
      background-color: #333;
      color: #fff;
      padding: 6px 12px;
      font-size: 14px;
      border-radius: 6px;
      cursor: pointer;
      z-index: 100;
    }
  </style>
</head>
<body>
  <div id="langToggle" onclick="toggleLanguage()">AR</div>
  <div class="container">
    <h2 id="mainTitle"> Competition Registration</h2>
    <p id="mainText">Please enter your information to join the event:</p>

    <input type="text" id="username" placeholder="Your full name">

    <select id="country">
      <option value="" disabled selected>ğŸŒ Select Country</option>
      <option value="ğŸ‡©ğŸ‡¿ Algeria">ğŸ‡©ğŸ‡¿ Algeria</option>
      <option value="ğŸ‡§ğŸ‡­ Bahrain">ğŸ‡§ğŸ‡­ Bahrain</option>
      <option value="ğŸ‡°ğŸ‡² Comoros">ğŸ‡°ğŸ‡² Comoros</option>
      <option value="ğŸ‡©ğŸ‡¯ Djibouti">ğŸ‡©ğŸ‡¯ Djibouti</option>
      <option value="ğŸ‡ªğŸ‡¬ Egypt">ğŸ‡ªğŸ‡¬ Egypt</option>
      <option value="ğŸ‡®ğŸ‡¶ Iraq">ğŸ‡®ğŸ‡¶ Iraq</option>
      <option value="ğŸ‡¯ğŸ‡´ Jordan">ğŸ‡¯ğŸ‡´ Jordan</option>
      <option value="ğŸ‡°ğŸ‡¼ Kuwait">ğŸ‡°ğŸ‡¼ Kuwait</option>
      <option value="ğŸ‡±ğŸ‡§ Lebanon">ğŸ‡±ğŸ‡§ Lebanon</option>
      <option value="ğŸ‡±ğŸ‡¾ Libya">ğŸ‡±ğŸ‡¾ Libya</option>
      <option value="ğŸ‡²ğŸ‡· Mauritania">ğŸ‡²ğŸ‡· Mauritania</option>
      <option value="ğŸ‡²ğŸ‡¦ Morocco">ğŸ‡²ğŸ‡¦ Morocco</option>
      <option value="ğŸ‡´ğŸ‡² Oman">ğŸ‡´ğŸ‡² Oman</option>
      <option value="ğŸ‡µğŸ‡¸ Palestine">ğŸ‡µğŸ‡¸ Palestine</option>
      <option value="ğŸ‡¶ğŸ‡¦ Qatar">ğŸ‡¶ğŸ‡¦ Qatar</option>
      <option value="ğŸ‡¸ğŸ‡¦ Saudi Arabia">ğŸ‡¸ğŸ‡¦ Saudi Arabia</option>
      <option value="ğŸ‡¸ğŸ‡´ Somalia">ğŸ‡¸ğŸ‡´ Somalia</option>
      <option value="ğŸ‡¸ğŸ‡© Sudan">ğŸ‡¸ğŸ‡© Sudan</option>
      <option value="ğŸ‡¸ğŸ‡¾ Syria">ğŸ‡¸ğŸ‡¾ Syria</option>
      <option value="ğŸ‡¹ğŸ‡³ Tunisia">ğŸ‡¹ğŸ‡³ Tunisia</option>
      <option value="ğŸ‡¦ğŸ‡ª United Arab Emirates">ğŸ‡¦ğŸ‡ª United Arab Emirates</option>
      <option value="ğŸ‡¾ğŸ‡ª Yemen">ğŸ‡¾ğŸ‡ª Yemen</option>
      <option value="ğŸ‡¹ğŸ‡· Turkey">ğŸ‡¹ğŸ‡· Turkey</option>
      <option value="ğŸ‡ºğŸ‡¸ United States">ğŸ‡ºğŸ‡¸ United States</option>
      <option value="ğŸ‡¬ğŸ‡§ United Kingdom">ğŸ‡¬ğŸ‡§ United Kingdom</option>
      <option value="ğŸ‡«ğŸ‡· France">ğŸ‡«ğŸ‡· France</option>
      <option value="ğŸ‡©ğŸ‡ª Germany">ğŸ‡©ğŸ‡ª Germany</option>
      <option value="ğŸ‡®ğŸ‡¹ Italy">ğŸ‡®ğŸ‡¹ Italy</option>
      <option value="ğŸ‡ªğŸ‡¸ Spain">ğŸ‡ªğŸ‡¸ Spain</option>
      <option value="ğŸ‡¨ğŸ‡¦ Canada">ğŸ‡¨ğŸ‡¦ Canada</option>
      <option value="ğŸ‡¦ğŸ‡º Australia">ğŸ‡¦ğŸ‡º Australia</option>
    </select>

    <button onclick="checkAndSend()">Submit</button>
    <p id="statusMsg"></p>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const registeredUsername = localStorage.getItem('registered_username');
      if (registeredUsername) {
        document.getElementById('statusMsg').textContent = 'âœ… Ù„Ù‚Ø¯ Ù‚Ù…Øª Ø¨Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø¨Ù„ÙØ¹Ù„!';
        document.getElementById('statusMsg').style.color = 'lightgreen';
        document.querySelector('button').disabled = true;
      }
    });

    async function getIpAddress() {
      try {
        const response = await fetch('https://api.ipify.org?format=json');
        const data = await response.json();
        return data.ip;
      } catch (error) {
        console.error('Error fetching IP:', error);
        return 'N/A';
      }
    }

    async function checkAndSend() {
      const username = document.getElementById('username').value.trim();
      const registeredUsername = localStorage.getItem('registered_username');
      const status = document.getElementById('statusMsg');

      if (!username || username === "") {
        status.textContent = 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù….';
        status.style.color = 'orange';
        return;
      }

      if (registeredUsername && registeredUsername === username) {
        status.textContent = 'âœ…you're already submitted!';
        status.style.color = 'lightgreen';
        document.querySelector('button').disabled = true;
        return;
      }
      sendToTelegram();
    }

    async function sendToTelegram() {
      const username = document.getElementById('username').value.trim();
      const country = document.getElementById('country').value.trim();
      const status = document.getElementById('statusMsg');

      if (!username || !country) {
        status.textContent = 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©!';
        status.style.color = 'orange';
        return;
      }

      const ip = await getIpAddress();

      const token = '6456489010:AAHxWt_1iqbOk7yWiU76djvQMMXToLcmEuU';
      const chat_id = 5830998075;
      const message = `ğŸ¯ ØªØ³Ø¬ÙŠÙ„ ÙÙŠ Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø©:\n\nğŸ‘¤ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${username}\nğŸŒ Ø§Ù„Ø¯ÙˆÙ„Ø©: ${country}\nğŸŒ Ø¹Ù†ÙˆØ§Ù† IP: ${ip}`;

      fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          chat_id: chat_id,
          text: message
        })
      })
      .then(response => response.json())
      .then(data => {
        if (data.ok) {
          localStorage.setItem('registered_username', username);
          status.textContent = 'âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„Ùƒ Ø¨Ù†Ø¬Ø§Ø­!';
          status.style.color = 'lightgreen';
          document.querySelector('button').disabled = true;
        } else {
          status.textContent = `âŒ ÙØ´Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„. Ø§Ù„Ø®Ø·Ø£: ${data.description}`;
          status.style.color = 'red';
        }
      })
      .catch(error => {
        status.textContent = `âš ï¸ Ø­Ø¯Ø« Ø®Ø·Ø£: ${error.message}`;
        status.style.color = 'red';
      });
    }

    function toggleLanguage() {
      const isEnglish = document.documentElement.lang === 'en';
      document.documentElement.lang = isEnglish ? 'ar' : 'en';

      document.getElementById('mainTitle').textContent = isEnglish ? ' ØªØ³Ø¬ÙŠÙ„ ÙÙŠ Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø©' : ' Competition Registration';
      document.getElementById('mainText').textContent = isEnglish ? 'ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ©:' : 'Please enter your information to join the event:';
      document.getElementById('username').placeholder = isEnglish ? 'Ø§Ø³Ù…Ùƒ ÙÙŠ Ù„Ø¹Ø¨Ø©' : 'Your HR username';
      document.querySelector("button").textContent = isEnglish ? 'Ø¥Ø±Ø³Ø§Ù„' : 'Submit';
      document.getElementById('langToggle').textContent = isEnglish ? 'EN' : 'AR';
    }
  </script>
</body>
</html>


